# 不要碰那段代码！

每个人都会遇到这种情况。你的代码已经部署到了测试服务器进行系统测试，测试经理回复说她遇到了一个问题。你的第一反应是：“快，让我修复一下——我知道出了什么问题。”

然而，从更大的角度来看，问题在于作为开发人员，你认为自己应该能够访问测试服务器。

在大多数基于Web的开发环境中，架构可以分解如下：

- 在开发人员的本地开发和单元测试
- 开发服务器上进行手动或自动集成测试
- 预发布服务器上进行QA团队和用户的验收测试
- 生产服务器

是的，还有其他服务器和服务（如源代码控制和问题跟踪），但你明白我的意思。按照这个模型，即使是高级开发人员，也不应该超越开发服务器的权限。大多数开发是在开发人员的本地机器上完成的，使用他们喜欢的IDE、虚拟机和适量的黑魔法（为了求好运）。

一旦检查到源代码控制系统（SCC）中，无论是自动还是手动，它都应该被部署到开发服务器上，在那里可以进行测试和调整，以确保一切正常。然而，从这一点开始，开发人员只是一个旁观者。

预发布管理人员应该打包并将代码部署到预发布服务器上供QA团队使用。就像开发人员不需要访问开发服务器以外的任何内容一样，QA团队和用户也不需要在开发服务器上进行任何操作。如果准备好进行验收测试，就发布一个版本并部署，不要要求用户在开发服务器上“快速查看一下”。请记住，除非你是独自编写项目，否则其他人也在那里编写代码，他们可能还没有准备好让用户看到。只有发布管理人员才应该同时访问这两个服务器。

在任何情况下，开发人员都不应该访问生产服务器。如果出现问题，你的支持人员应该修复它或请求你修复。在检查到源代码控制系统后，他们将从那里发布一个补丁。我参与的一些最大的编程灾难就发生在某人（咳咳，我）违反了这个最后的规则。如果有问题，生产环境不是修复问题的地方。

由[Cal Evans](http://programmer.97things.oreilly.com/wiki/index.php/Cal_Evans)撰写
