# 不要害怕打破事物

在业界有经验的每个人都无疑曾经参与过一个代码库非常不稳定的项目。系统的结构设计不佳，改动一个东西总是会导致其他不相关的功能出问题。每当添加一个模块时，编码人员的目标是尽量改动得少，并且在每次发布时都屏住呼吸。这就好像在摩天大楼中用I型梁玩俄罗斯方块，注定会灾难性崩塌。

之所以改变让人如此紧张，是因为系统本身就有问题。它需要医生，否则它的状况只会变得更糟。你已经知道你的系统有什么问题，但你害怕为了达到目的而打破现有的东西。一位熟练的外科医生知道必须做出切割才能进行手术，但他也知道这些切割是暂时的，会愈合。手术的最终结果比最初的痛苦更有价值，患者应该会康复到比手术之前更好的状态。

不要害怕你的代码。如果在你移动事物的过程中有东西暂时出问题，又有什么关系呢？对变化的一种麻木不仁才导致你的项目陷入现在的状态。投资时间进行重构将在项目的生命周期内多次回报。另一个好处是，你的团队通过处理有问题的系统获得了对它应该如何工作的专业知识。将这些知识应用起来，而不是对它们心生怨恨。不应该让任何人都把时间浪费在讨厌的系统上。

重新定义内部接口，重构模块结构，消除重复粘贴的代码，通过减少依赖简化设计。通过消除角落案例，可以显著降低代码复杂性，这些角落案例通常是由于功能耦合不当而产生的。逐步将旧结构过渡到新结构，并在过程中进行测试。试图在“一次大改动”中完成大规模重构将引发足够多的问题，以至于你会考虑在中途放弃整个努力。

成为一个不害怕切除有问题部分以为康复腾出空间的外科医生。这种态度是具有传染性的，会激发其他人开始处理那些一直在拖延的清理项目。保持一个团队认为对项目整体有益的“卫生”任务清单。说服管理层，尽管这些任务可能不会产生明显的结果，但它们将减少开支并加快未来的发布速度。永远不要停止关注代码的整体“健康”状况。

由[Mike Lewis](http://programmer.97things.oreilly.com/wiki/index.php/Mike_Lewis)撰写
