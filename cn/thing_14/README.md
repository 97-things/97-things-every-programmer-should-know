# 代码评审

你应该进行代码审查。为什么呢？因为它们可以*提高代码质量*并*减少缺陷率*。但并不一定是你所想的原因。

由于之前可能有一些糟糕的审查经历，许多程序员倾向于不喜欢代码审查。我见过一些组织要求所有代码在部署到生产环境之前必须通过正式的审查。通常是架构师或首席开发人员进行审查，这种做法可以描述为*架构师审查一切*。这在他们的软件开发流程手册中有所说明，所以程序员必须遵守。可能有一些组织需要如此严格和正式的流程，但大多数组织不需要。在大多数组织中，这种方法是适得其反的。被审查者可能会感觉像是被假释委员会审判。审查人员需要时间阅读代码，并与系统的所有细节保持同步。审查人员很快就会成为这个过程中的瓶颈，进而导致整个过程恶化。

代码审查的目的不仅仅是纠正代码中的错误，而是*分享知识*并建立共同的编码准则。将你的代码与其他程序员分享，可以实现集体代码拥有权。让一个随机的团队成员与团队的其他成员一起*浏览代码*。与其寻找错误，你应该试图通过审查代码来学习和理解它。

在代码审查过程中要友善。确保评论是*建设性的，而非具有腐蚀性的*。引入不同的*审查角色*，以避免团队成员中的组织资历影响代码审查。审查角色的示例可以包括一个审查者专注于文档，另一个审查者专注于异常情况，第三个审查者专注于功能。这种方法有助于将代码审查的负担分摊给团队成员。

每周设定一个固定的*代码审查*日。在审查会议中花几个小时的时间。以简单的轮流模式每次会议都更换被审查者。同时，每次审查会议也要在团队成员之间轮换角色。*将新手纳入*代码审查。他们可能经验不足，但他们新鲜的大学知识可以提供不同的视角。*请专家参与*，因为他们拥有丰富的经验和知识。他们能够更快、更准确地识别出容易出错的代码。如果团队有通过工具检查的*编码规范*，那么代码审查将更加轻松。这样，代码格式化就不会在代码审查会议上讨论。

*让代码审查变得有趣*可能是成功的最重要因素。审查关乎参与审查的人。如果审查会议令人痛苦或乏味，很难激励任何人。将其作为一个*非正式的代码审查*，其主要目的是在团队成员之间分享知识。避免使用讽刺的评论，而是可以带来蛋糕或午餐袋子。

由[Mattias Karlsson](http://programmer.97things.oreilly.com/wiki/index.php/Mattias_Karlsson)撰写
